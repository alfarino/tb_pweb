<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Rekomendasi Barang</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-white text-gray-800 min-h-screen flex flex-col">

  <!-- Navbar -->
  <%- include('../layout/navbar.ejs') %> 

  <!-- Main -->
  <main class="flex-grow">
    <!-- Banner -->
    <div class="container mx-auto px-4 mt-5">
      <div class="bg-green-600 h-96 rounded shadow-lg mb-4 flex justify-center items-center text-white text-xl">
        Rekomendasi Berdasarkan Fakultas Anda
      </div>
    </div>

          <!-- Fitur/Kategori -->
          <div class="container mx-auto grid grid-cols-7 gap-4 px-4 mb-4">
            <% tombol.forEach(function(t) { %>
              <% if (t.label) { %>
                <a href="<%= t.link %>" 
                  class="bg-green-600 h-16 rounded-lg shadow flex justify-center items-center text-white font-semibold hover:bg-green-700 transition duration-300">
                  <%= t.label %>
                </a>
              <% } else { %>
                <div class="bg-green-600 h-16 rounded-lg shadow"></div>
              <% } %>
            <% }) %>
          </div>


    <!-- Grid Rekomendasi -->
    <div class="container mx-auto grid grid-cols-7 gap-4 px-4 mb-4">
      <% if (items.length === 0) { %>
        <div class="col-span-7 text-center text-gray-500 text-lg">
          Tidak ada barang yang direkomendasikan untuk fakultas Anda.
        </div>
      <% } else { %>
        <% items.forEach(item => { %>
          <a href="/items/<%= item.id %>" class="block bg-white rounded-lg shadow hover:shadow-xl hover:-translate-y-1 transition duration-300 overflow-hidden">
            <div class="aspect-square bg-gray-100 flex items-center justify-center overflow-hidden">
              <% if (item.itemImages && item.itemImages.length > 0) { %>
                <img src="<%= item.itemImages[0].imageUrl %>" alt="Gambar" class="w-full h-full object-cover" />
              <% } else { %>
                <span class="text-gray-400 text-sm">No Image</span>
              <% } %>
            </div>
            <div class="bg-gray-100 p-2 text-center text-sm font-semibold truncate">
              <%= item.title %>
            </div>
          </a>
        <% }) %>
      <% } %>
    </div>
  </main>

  <!-- Footer -->
  <%- include('../layout/footer.ejs') %>
</body>
</html>
